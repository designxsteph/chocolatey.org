@model IEnumerable<ResourceViewModel>
@{
    Layout = "~/Views/Shared/NewsletterLayout.cshtml";
    ViewBag.Title = "Videos";
    Bundles.Reference("content/css/chocolatey.bundle.min.css");
    Bundles.Reference("Scripts/main");
}
@section ExtraHeaders {
    <div id="fb-root"></div>
    <script>
        (function (d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = 'https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v3.2';
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
    </script>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
}

@Html.Partial("~/Views/Shared/_ResourceSubNavigation.cshtml")
<section class="py-3 py-lg-5">
    <div class="container">
        @Html.Partial("~/Views/Resources/_BreadCrumbs.cshtml")
        <div class="row card-row">
            @foreach (var post in @Model)
            {
                <div class="col-lg-4 col-sm-6 mb-4">
                    <a class="text-reset" href="
                       @if (post.Type.Contains("Customer Success Story"))
                        {
                            @Url.RouteUrl(RouteName.ResourceName, new { resourceType= "success-stories", resourceName = post.UrlPath })
                        }
                        else if (post.Type.Contains("Video"))
                        {
                            @Url.RouteUrl(RouteName.ResourceName, new { resourceType= "videos", resourceName = post.UrlPath })
                        }
                        else if (post.Type.Contains("Case Study"))
                        {
                            @Url.RouteUrl(RouteName.ResourceName, new { resourceType= "case-studies", resourceName = post.UrlPath })
                        }
                        else if (post.Type.Contains("Feature") && post.Tags.Contains("12-days-of-chocolatey"))
                        {
                            @Url.RouteUrl(RouteName.ResourceName, new { resourceType= "12-days-of-chocolatey", resourceName = post.UrlPath })
                        }
                        else if (post.Type.Contains("Feature"))
                        {
                            @Url.RouteUrl(RouteName.ResourceName, new { resourceType= "features", resourceName = post.UrlPath })
                        }
                    ">
                        <div class="card h-100 card-body p-0">
                            <div class="bg-medium-light fw-bold text-center px-3 py-2">
                                @if (post.Type.Contains("Customer Success Story"))
                                {
                                    <span class="fas fa-trophy" alt="Customer Success Stories"></span>
                                }
                                else if (post.Type.Contains("Video"))
                                {
                                    <span class="fas fa-play" alt="Videos"></span>
                                }
                                else if (post.Type.Contains("Case Study"))
                                {
                                    <span class="fas fa-briefcase" alt="Case Studies"></span>
                                }
                                else if (post.Type.Contains("Feature") && post.Tags.Contains("12-days-of-chocolatey"))
                                {
                                    <span class="fas fa-holly-berry" alt="12 Days of Chocolatey"></span>
                                }
                                else if (post.Type.Contains("Feature"))
                                {
                                    <span class="fas fa-star" alt="Feature"></span>
                                }
                                <span>
                                    @if (post.Type.Contains("Feature") && post.Tags.Contains("c4b-feature"))
                                    {
                                        <text>C4B </text>@post.Type
                                    }
                                    else if (post.Type.Contains("Feature") && post.Tags.Contains("open-source-feature"))
                                    {
                                        <text>Open Source </text>@post.Type
                                    }
                                    else if (post.Type.Contains("Feature") && post.Tags.Contains("12-days-of-chocolatey"))
                                    {
                                        <text>12 Days of Chocolatey</text>
                                    }
                                    else
                                    {
                                        @post.Type
                                    }
                                </span>
                            </div>
                            @Html.Raw(post.Image)
                            <div class="d-flex flex-column flex-fill align-items-center justify-content-center text-center p-3">
                                @if (post.Type.Contains("Customer Success Story"))
                                {
                                    <h5 class="mb-0 link-primary">@post.Company</h5>
                                    <p class="mb-0 link-primary"><small><i>@post.Name, @post.Position</i></small></p>
                                }
                                else
                                {
                                    <h5 class="mb-0 link-primary">@post.Title</h5>
                                }
                            </div>
                        </div>
                    </a>
                </div>
            }
        </div>
    </div>
</section>